# üöÄ –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Groq API

## –©–æ —Ç–∞–∫–µ Groq?

Groq - —Ü–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ AI inference –∑ OpenAI-—Å—É–º—ñ—Å–Ω–∏–º API.

### –ü–µ—Ä–µ–≤–∞–≥–∏:
- ‚úÖ **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ** - –≤–µ–ª–∏–∫–∏–π –ª—ñ–º—ñ—Ç –∑–∞–ø–∏—Ç—ñ–≤
- ‚úÖ **–®–≤–∏–¥—à–µ** - –¥–æ 10x —à–≤–∏–¥—à–µ –∑–∞ OpenAI
- ‚úÖ **–°—É–º—ñ—Å–Ω–∏–π** - —Ç–æ–π —Å–∞–º–∏–π API —è–∫ OpenAI
- ‚úÖ **–Ø–∫—ñ—Å–Ω—ñ –º–æ–¥–µ–ª—ñ** - Llama 3.3 70B, Mixtral —Ç–æ—â–æ

### –û–±–º–µ–∂–µ–Ω–Ω—è:
- ‚ö†Ô∏è –ù–µ–º–∞—î embeddings API (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ OpenAI –¥–ª—è embeddings)
- ‚ö†Ô∏è –ú–µ–Ω—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (32k —Ç–æ–∫–µ–Ω—ñ–≤ vs 128k —É GPT-4)

---

## üìù –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –º—ñ–≥—Ä–∞—Ü—ñ—ó

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ API –∫–ª—é—á Groq

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://console.groq.com/
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ "API Keys"
4. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∫–ª—é—á
5. –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–ª—é—á (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `gsk_...`)

### –ö—Ä–æ–∫ 2: –î–æ–¥–∞—Ç–∏ –∫–ª—é—á –≤ .env

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `backend/.env` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ:

```env
# Groq API (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ —Ç–∞ —à–≤–∏–¥–∫–æ)
GROQ_API_KEY=gsk_your_groq_api_key_here

# OpenAI API (—Ç—ñ–ª—å–∫–∏ –¥–ª—è embeddings)
OPENAI_API_KEY=sk_your_openai_key_here
```

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```bash
cd backend
npm run dev
```

---

## ‚úÖ –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é (`backend/src/config/openai.ts`)

```typescript
// Groq –¥–ª—è chat completions (—à–≤–∏–¥—à–µ —Ç–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
export const groq = new OpenAI({
    apiKey: process.env.GROQ_API_KEY,
    baseURL: 'https://api.groq.com/openai/v1'
});

// OpenAI —Ç—ñ–ª—å–∫–∏ –¥–ª—è embeddings
export const openai = new OpenAI({
    apiKey: process.env.OPENAI_API_KEY
});
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–æ –≤—Å—ñ AI endpoints (`backend/src/routes/ai.routes.ts`)

–í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Groq:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∑—é–º–µ
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤
- ‚úÖ –ß–∞—Ç –∑ –ª–µ–∫—Ü—ñ—î—é (RAG)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ñ–ª–µ—à–∫–∞—Ä—Ç–æ–∫
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è mind map

### 3. Embeddings –∑–∞–ª–∏—à–∏–ª–∏—Å—å –Ω–∞ OpenAI

Groq –ø–æ–∫–∏ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î embeddings, —Ç–æ–º—É:
- `backend/src/services/embeddings.ts` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î OpenAI
- –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! Embeddings –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Ä—ñ–¥–∫–æ (—Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ)

---

## üéØ –î–æ—Å—Ç—É–ø–Ω—ñ –º–æ–¥–µ–ª—ñ Groq

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ:

1. **llama-3.3-70b-versatile** (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Ä–∞–∑)
   - –ù–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å
   - –®–≤–∏–¥–∫—ñ—Å—Ç—å: ~100 tokens/sec
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: 32k —Ç–æ–∫–µ–Ω—ñ–≤

2. **llama-3.1-8b-instant**
   - –ù–∞–π—à–≤–∏–¥—à–∞
   - –®–≤–∏–¥–∫—ñ—Å—Ç—å: ~800 tokens/sec
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: 8k —Ç–æ–∫–µ–Ω—ñ–≤
   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–≤–¥–∞–Ω—å

3. **mixtral-8x7b-32768**
   - –ë–∞–ª–∞–Ω—Å —à–≤–∏–¥–∫–æ—Å—Ç—ñ —Ç–∞ —è–∫–æ—Å—Ç—ñ
   - –®–≤–∏–¥–∫—ñ—Å—Ç—å: ~500 tokens/sec
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: 32k —Ç–æ–∫–µ–Ω—ñ–≤

### –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –º–æ–¥–µ–ª—å:

–£ —Ñ–∞–π–ª—ñ `backend/src/routes/ai.routes.ts` –∑–∞–º—ñ–Ω—ñ—Ç—å:

```typescript
model: 'llama-3.3-70b-versatile'
```

–Ω–∞ –±—É–¥—å-—è–∫—É —ñ–Ω—à—É –º–æ–¥–µ–ª—å –∑ —Å–ø–∏—Å–∫—É –≤–∏—â–µ.

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç

### OpenAI GPT-4:
- Input: $0.03 / 1K —Ç–æ–∫–µ–Ω—ñ–≤
- Output: $0.06 / 1K —Ç–æ–∫–µ–Ω—ñ–≤
- **–ü—Ä–∏–∫–ª–∞–¥:** 1000 –∑–∞–ø–∏—Ç—ñ–≤ = ~$50

### Groq Llama 3.3 70B:
- Input: **–ë–ï–ó–ö–û–®–¢–û–í–ù–û**
- Output: **–ë–ï–ó–ö–û–®–¢–û–í–ù–û**
- –õ—ñ–º—ñ—Ç: 30 –∑–∞–ø–∏—Ç—ñ–≤/—Ö–≤–∏–ª–∏–Ω—É
- **–ü—Ä–∏–∫–ª–∞–¥:** 1000 –∑–∞–ø–∏—Ç—ñ–≤ = **$0**

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç 1: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∑—é–º–µ

```bash
curl -X POST http://localhost:3001/api/ai/summary/LECTURE_ID \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json"
```

### –¢–µ—Å—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—É

```bash
curl -X POST http://localhost:3001/api/ai/generate-test/LECTURE_ID \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"questionsCount": 5}'
```

### –¢–µ—Å—Ç 3: –ß–∞—Ç –∑ –ª–µ–∫—Ü—ñ—î—é

```bash
curl -X POST http://localhost:3001/api/ai/chat/LECTURE_ID \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"message": "–ü–æ—è—Å–Ω–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó"}'
```

---

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "Invalid API key"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π GROQ_API_KEY

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `.env` —Ñ–∞–π–ª
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –∫–ª—é—á –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `gsk_`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

### –ü–æ–º–∏–ª–∫–∞: "Rate limit exceeded"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç 30 –∑–∞–ø–∏—Ç—ñ–≤/—Ö–≤–∏–ª–∏–Ω—É

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ó–∞—á–µ–∫–∞–π—Ç–µ 1 —Ö–≤–∏–ª–∏–Ω—É
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —à–≤–∏–¥—à—É –º–æ–¥–µ–ª—å (llama-3.1-8b-instant)
3. –ê–±–æ –¥–æ–¥–∞–π—Ç–µ retry –ª–æ–≥—ñ–∫—É

### Embeddings –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å

**–ü—Ä–∏—á–∏–Ω–∞:** Groq –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î embeddings

**–†—ñ—à–µ–Ω–Ω—è:**
- Embeddings –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å OpenAI (—Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ `OPENAI_API_KEY` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
- Embeddings –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ª–µ–∫—Ü—ñ–π

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î:
- **Groq** –¥–ª—è –≤—Å—ñ—Ö AI —Ñ—É–Ω–∫—Ü—ñ–π (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ —Ç–∞ —à–≤–∏–¥–∫–æ)
- **OpenAI** —Ç—ñ–ª—å–∫–∏ –¥–ª—è embeddings (—Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)

–¶–µ –¥–∞—î:
- ‚úÖ –ï–∫–æ–Ω–æ–º—ñ—é –∫–æ—à—Ç—ñ–≤ (~$50/–º—ñ—Å—è—Ü—å ‚Üí $0)
- ‚úÖ –®–≤–∏–¥—à—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (–¥–æ 10x)
- ‚úÖ –¢–æ–π —Å–∞–º–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- Groq Console: https://console.groq.com/
- Groq Docs: https://console.groq.com/docs
- –ú–æ–¥–µ–ª—ñ: https://console.groq.com/docs/models
- –õ—ñ–º—ñ—Ç–∏: https://console.groq.com/docs/rate-limits
